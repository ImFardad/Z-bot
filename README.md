# 🤖 Z-Bot: ربات بقا در آخرالزمان زامبی (Node.js)

این پروژه یک ربات تلگرام است که با استفاده از Node.js، کتابخانه `node-telegram-bot-api` و مدل هوش مصنوعی Gemini گوگل ساخته شده است. ربات، کاربران را در سناریوهای واقع‌گرایانه بقا در دنیای زامبی‌زده قرار می‌دهد و راه حل‌های آن‌ها را بر اساس خلاقیت، کارآمدی و دیگر مهارت‌های بقا ارزیابی می‌کند. همچنین دارای سیستم‌های اقتصادی و مدیریتی مانند "پناهگاه"، "فروشگاه" و "کوله پشتی" است.

---

## قابلیت‌ها

- **🧟 سناریوهای بقا:** تولید سناریوهای چالش‌برانگیز و واقع‌گرایانه با استفاده از Gemini AI.
- **🧠 ارزیابی هوشمند:** تحلیل و امتیازدهی به راه حل‌های کاربران بر اساس معیارهای مختلف بقا.
- **🏕️ سیستم پناهگاه:**
  - ایجاد پناهگاه در گروه‌های تلگرام از طریق یک فرآیند چندمرحله‌ای.
  - **مکان‌یابی هوشمند:** پیدا کردن یک مکان دقیق و منحصر به فرد برای پناهگاه با استفاده از هوش مصنوعی.
  - نمایش اطلاعات کامل پناهگاه و امکان عضویت و خروج از آن.
- **💰 اقتصاد داخلی:**
    - هر بازمانده با مقدار اولیه‌ای سکه بازی را شروع می‌کند.
    - **فروشگاه:** یک منوی داخلی برای خرید و ارتقای تجهیزات.
        - فروش آیتم‌های روزانه (آب، باتری، سوخت) با محدودیت خرید برای هر کاربر.
    - **کوله پشتی:** سیستمی برای مدیریت آیتم‌ها با ظرفیت محدود و قابل ارتقا.
    - **ظرفیت سوخت:** هر کاربر دارای ظرفیت حمل سوخت مجزا است.
- **📊 نمایشگرهای بصری:** استفاده از نوارهای پیشرفت متنی برای نمایش ظرفیت کوله پشتی و سوخت.
- **🛡️ کنترل دسترسی و پایداری:** دارای مکانیزم‌های کنترل دسترسی و مدیریت خطا برای تضمین پایداری ربات.

---

## ساختار پروژه

```
z-bot/
│
├── db/
│   ├── database.js         # تنظیمات اتصال به دیتابیس (Sequelize)
│   ├── User.js             # مدل کاربر (User)
│   ├── Shelter.js          # مدل پناهگاه (Shelter)
│   ├── ShopItem.js         # مدل آیتم‌های فروشگاه
│   ├── DailyPurchase.js    # مدل خریدهای روزانه کاربر
│   └── UserQuestionHistory.js # مدل تاریخچه سناریوهای کاربر
│
├── handlers/
│   ├── backpackHandler.js  # مدیریت منوی کوله پشتی
│   ├── ... (سایر handler ها)
│
├── utils/
│   └── progressBar.js      # ابزار ساخت نوار پیشرفت متنی
│
├── ... (سایر پوشه‌ها)
│
├── bot.js                  # منطق اصلی و راه‌اندازی ربات
└── package.json
```

---

## راه‌اندازی و نصب

(مراحل نصب و پیکربندی مانند قبل باقی می‌ماند)

---

## نحوه استفاده

### دستورات اصلی

- `/start`: برای ثبت نام و شروع کار با ربات در چت خصوصی.
- `/shelter`: برای ساخت یا مشاهده اطلاعات پناهگاه در گروه.

### منوی اصلی (در چت خصوصی)

- **🧟 سناریو زامبی:** دریافت یک سناریوی جدید برای حل کردن.
- **🏕️ پناهگاه:** مشاهده وضعیت عضویت و اطلاعات پناهگاه.
- **🛒 فروشگاه:** خرید آیتم‌های عمومی و روزانه و ارتقای کوله پشتی.
- **🎒 کوله پشتی:** (در صورت داشتن) مشاهده محتویات، ظرفیت کوله پشتی و موجودی سوخت.
- **🏆 احتمال بقا:** مشاهده درصد بقای کلی.

---

## اجرای ربات

برای اجرای ربات:

```sh
npm start
```

برای اجرای ربات در حالت توسعه:

```sh
npm run dev
```
